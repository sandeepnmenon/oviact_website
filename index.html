<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Oviact – Hormonal Companion</title>
    <link rel="stylesheet" href="assets/styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container nav-container">
        <div class="logo">Oviact</div>
        <nav class="nav-links" aria-label="Primary">
          <a href="index.html" class="nav-link is-active">Home</a>
          <a href="about.html" class="nav-link">About us</a>
          <a href="join.html" class="nav-link">Join us</a>
        </nav>
      </div>
    </header>

    <main>
      <!-- Hero / Waitlist section -->
      <section class="hero" id="waitlist">
        <div class="container hero-grid">
          <div class="hero-copy">
            <p class="eyebrow">For women with PCOD/PCOS</p>
            <h1>We are building Oviact together.</h1>
            <p class="lead">
              If this mission speaks to you, we would love to have you involved.
            </p>
            <p class="lead">
              Whether you are someone with lived experience, a health professional, a researcher, or just someone who cares, you are welcome to join us.
            </p>
            <form
              class="waitlist-form"
              method="POST"
              action="https://script.google.com/macros/s/AKfycbyAZUyC35OKipHRsD96DTfIgD1lSEHeq75Iyw19XNldo4wrKH8zTxIAWMH8bXPO9Z_J/exec"
            >
              <!-- Honeypot field - hidden from humans, visible to bots -->
              <input
                type="text"
                name="website"
                value=""
                style="position: absolute; left: -9999px; width: 1px; height: 1px;"
                tabindex="-1"
                autocomplete="off"
                aria-hidden="true"
              />
              
              <!-- Timestamp field - tracks when form was loaded -->
              <input
                type="hidden"
                name="form_timestamp"
                id="form-timestamp"
              />
              
              <!-- User agent field - tracks browser info -->
              <input
                type="hidden"
                name="user_agent"
                id="user-agent"
              />
              
              <div class="field-group">
                <input
                  type="text"
                  name="name"
                  required
                  placeholder="Your name"
                  aria-label="Your name"
                />
                <input
                  type="email"
                  name="email"
                  required
                  placeholder="Email address"
                  aria-label="Email address"
                />
              </div>
              <button type="submit" class="btn btn-accent">
                Get Involved
              </button>
              <p class="form-helper">
                We will only reach out with product updates and early access invites.
              </p>
            </form>
          </div>

          <div class="hero-card">
            <h2>What Oviact helps you do</h2>
            <ul class="hero-list">
              <li>Track your cycle, mood, sleep and daily symptoms</li>
              <li>See patterns in your hormonal activity over time</li>
              <li>Get food and activity suggestions tailored to your phase</li>
              <li>Generate OB/GYN-ready reports you can share securely</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- Services / Offerings -->
      <section class="section" id="services">
        <div class="container">
          <header class="section-header">
            <h2>What you’ll get with Oviact</h2>
            <p>
              Designed for PCOD/PCOS management with a whole-person view of your
              health.
            </p>
          </header>

          <div class="card-grid">
            <article class="card">
              <h3>Cycle & hormonal tracking</h3>
              <p>
                Log your cycle, ovulation, symptoms and medication to build a clear
                picture of your hormonal health.
              </p>
            </article>

            <article class="card">
              <h3>Mood & sleep insights</h3>
              <p>
                Understand how your energy, mood, and sleep shift across your cycle
                so you can plan your days better.
              </p>
            </article>

            <article class="card">
              <h3>Food & activity guidance</h3>
              <p>
                Receive suggestions for meals, movement and rest based on your
                current phase and how you’re feeling.
              </p>
            </article>

            <article class="card">
              <h3>Doctor-ready reports</h3>
              <p>
                Generate shareable summaries of your cycle, symptoms and lifestyle
                data for appointments with your OB/GYN.
              </p>
            </article>
          </div>
        </div>
      </section>

      <!-- Social / Follow -->
      <!-- <section class="section section-soft" id="social">
        <div class="container social-grid">
          <div>
            <h2>Follow our journey</h2>
            <p>
              We’re building Oviact in collaboration with women living with PCOD/PCOS
              and medical experts.
            </p>
          </div>
          <div class="social-links" aria-label="Social media">
            <a href="#" class="social-link" rel="noopener noreferrer" target="_blank">Instagram</a>
            <a href="#" class="social-link" rel="noopener noreferrer" target="_blank">LinkedIn</a>
            <a href="#" class="social-link" rel="noopener noreferrer" target="_blank">X (Twitter)</a>
          </div>
        </div>
      </section> -->
    </main>

    <footer class="site-footer">
      <div class="container footer-flex">
        <p>© <span id="year"></span> Oviact. All rights reserved.</p>
        <!-- <a href="#waitlist" class="footer-cta">Join the waitlist</a> -->
      </div>
    </footer>

    <script>
      // Small helper script: update year in footer
      document.getElementById('year').textContent = new Date().getFullYear();
    
      const form = document.querySelector('.waitlist-form');
      const helper = form.querySelector('.form-helper');
      const submitButton = form.querySelector('button[type="submit"]');
      
      // Initialize security fields when page loads
      document.getElementById('form-timestamp').value = Date.now();
      document.getElementById('user-agent').value = navigator.userAgent;
      
      // Rate limiting: track last submission time
      let lastSubmitTime = 0;
      const RATE_LIMIT_MS = 5000; // 5 seconds between submissions
      
      // Input sanitization function
      function sanitizeInput(input) {
        const div = document.createElement('div');
        div.textContent = input;
        return div.innerHTML.trim();
      }
    
      form.addEventListener('submit', async (event) => {
        event.preventDefault();
        
        // Rate limiting check (client-side)
        const now = Date.now();
        if (now - lastSubmitTime < RATE_LIMIT_MS) {
          helper.textContent = 'Please wait a moment before submitting again.';
          return;
        }
        
        // Sanitize inputs
        const nameInput = form.querySelector('input[name="name"]');
        const emailInput = form.querySelector('input[name="email"]');
        
        const sanitizedName = sanitizeInput(nameInput.value);
        const sanitizedEmail = sanitizeInput(emailInput.value);
        
        // Basic validation (client-side, also validated server-side)
        if (!sanitizedName || sanitizedName.length > 100) {
          helper.textContent = 'Please enter a valid name (max 100 characters).';
          return;
        }
        
        if (!sanitizedEmail || sanitizedEmail.length > 254) {
          helper.textContent = 'Please enter a valid email address.';
          return;
        }
        
        // Disable button during submission
        submitButton.disabled = true;
        helper.textContent = 'Sending your details…';
        
        // Build form data with all fields (including security fields)
        const formData = new FormData(form);
    
        try {
          const response = await fetch(form.action, {
            method: 'POST',
            body: formData,
            mode: 'no-cors' // Required for Google Apps Script
          });
    
          // Note: With no-cors mode, we can't read the response
          // Assume success if no error thrown
          helper.textContent = 'Thank you for joining Oviact\'s early community ♥';
          form.reset();
          
          // Reset security fields after form reset
          document.getElementById('form-timestamp').value = Date.now();
          document.getElementById('user-agent').value = navigator.userAgent;
          
          lastSubmitTime = now;
        } catch (err) {
          helper.textContent = 'Something went wrong. Please try again in a bit.';
        } finally {
          submitButton.disabled = false;
        }
      });
    </script>    
  </body>
</html>
